import*as m from"../test_unit.js";let o=0,u=0,c=0,r=0;const y=document.getElementById("js_test_results");async function a(e){o=Object.entries(e).length;let t=Object.values(e);for(let s=0;s<o;s++){var n={};n.name=t[s].name,n.golden=t[s].golden;try{n.result=await t[s].func()}catch(d){console.error(d),n.result=d}T(n)}g()}async function g(){document.getElementById("totalTestsToRun").innerText=o,document.getElementById("totalTestsRan").innerText=u,document.getElementById("testPastCount").innerText=c,document.getElementById("testFailCount").innerText=r,document.getElementById("testsRunning").hidden=!0,r==0?document.getElementById("testsPassed").hidden=!1:document.getElementById("testsFailed").hidden=!1}function T(e){let t=y.content.cloneNode(!0),n=""+e.name+": ";if(typeof e.golden=="string")var s=e.result.trim()!=e.golden.trim();else s=e.result!=e.golden;s?(console.error("\u274C Failed.  Got: "+e.result+" Expected: "+e.golden),n+="\u274C Failed",t.querySelector("div").classList.add("text-danger"),t.querySelector(".result").textContent="Got: "+e.result,t.querySelector(".expected").innerHTML="Expected: "+e.golden,r++):(t.querySelector("div").classList.add("text-success"),n+="\u2705 Passed",c++),u++,t.querySelector(".test").textContent=n,document.getElementById("testsResultsList").append(t)}const l={href:"https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx",crossOrigin:"anonymous"};document.addEventListener("DOMContentLoaded",()=>{document.getElementById("NoModuleFound").hidden=!0,document.getElementById("testsResultsMeta").hidden=!1;let e=m.TestBrowserJS;if(e===null||e==null||typeof e!="object"||Object.keys(e).length<=0)console.error("TestBrowserJS: The TestBrowserJS object is not properly defined, please see README.",e);else if((e.TestGUIOptions===null||e.TestGUIOptions===void 0||typeof e.TestGUIOptions!="object")&&(e.TestGUIOptions={}),f(e),Array.isArray(e.TestsToRun)&&e.TestsToRun.length>0){a(e.TestsToRun);return}document.getElementById("testsResultsMeta").innerHTML="",document.getElementById("noTestsToRun").hidden=!1});function f(e){let t=Object.keys(e.TestGUIOptions);if(t.length<=0){i(l);return}t.includes("header")?document.getElementById("CustomHeader").innerHTML=e.TestGUIOptions.header:t.includes("stylesheet")?i(e.TestGUIOptions.stylesheet):i(l),t.includes("footer")&&(document.getElementById("CustomFooter").innerHTML=e.TestGUIOptions.footer),t.includes("main_image")&&(document.getElementById("MainImage").src=e.TestGUIOptions.main_image),t.includes("html_test_area")&&(document.getElementById("htmlTestArea").innerHTML=e.TestGUIOptions.html_test_area)}function i(e){let t=document.getElementById("bootstrapCSS");t.href=e.href;let n=Object.keys(e);n.includes("crossOrigin")?t.crossOrigin=e.crossOrigin:t.crossOrigin=l.crossOrigin,n.includes("integrity")&&(t.integrity=e.integrity),n.includes("rel")?t.rel=e.rel:t.rel=l.rel}export{a as Run};
//# sourceMappingURL=browsertest.min.js.map
